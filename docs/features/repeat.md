# 复读机功能

源码：[src/features/repeat.ts](src/features/repeat.ts)

## 功能概述

当群组内有一名用户发送了纯文本消息或表情包 S，另一名用户在一定时间 T1 内再次发送相同的内容 S 时，机器人有概率跟从用户发送相同的内容 S。当一定时间 T1 内复读的用户越多，机器人复读 S 的概率越大。机器人在自己已经复读过这段内容 S 后，一定时间 T2 内不会再次复读。

## 功能描述

无命令功能。监听普通文本消息和表情包消息，将群组内的消息进行记录缓存，每隔一段时间清理记录。

## 支持的消息类型

1. **纯文本消息** - 符合长度要求且不包含特殊内容的文本
2. **表情包 (Sticker)** - 所有类型的表情包都支持复读

## 使用场景

人类的本质就是复读机

### 典型使用场景

1. **多人复读文本**
2. **多人复读表情包**

### 使用用例

#### 示例 1 - 文本复读:

```text
用户 A：怕了
用户 B：怕了
机器人回复（50% 概率）：怕了
```

#### 示例 2 - 文本复读:

```text
用户 A：怕了
用户 B：怕了
用户 C：怕了
机器人回复（90% 概率）：怕了
```

#### 示例 3 - 表情包复读:

```text
用户 A：[发送某个表情包]
用户 B：[发送相同的表情包]
机器人回复（90% 概率）：[发送相同的表情包]
```

#### 示例 4 - 表情包复读:

```text
用户 A：[发送某个表情包]
用户 B：[发送相同的表情包]
用户 C：[发送相同的表情包]
机器人回复（100% 概率）：[发送相同的表情包]
```
